<!DOCTYPE html>
<html lang="中文">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 | 起妙前端开发手册</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="./favicon.ico">
    <meta name="description" content="---">
    <link rel="preload" href="/web-specification/assets/css/0.styles.52c227e6.css" as="style"><link rel="preload" href="/web-specification/assets/js/app.60a5c9a4.js" as="script"><link rel="preload" href="/web-specification/assets/js/2.a3020de5.js" as="script"><link rel="preload" href="/web-specification/assets/js/9.77077009.js" as="script"><link rel="prefetch" href="/web-specification/assets/js/10.8c895e6f.js"><link rel="prefetch" href="/web-specification/assets/js/11.109fd884.js"><link rel="prefetch" href="/web-specification/assets/js/12.a3eda0c8.js"><link rel="prefetch" href="/web-specification/assets/js/13.b7994884.js"><link rel="prefetch" href="/web-specification/assets/js/14.e3c78cb6.js"><link rel="prefetch" href="/web-specification/assets/js/15.7c744968.js"><link rel="prefetch" href="/web-specification/assets/js/16.a9b364ec.js"><link rel="prefetch" href="/web-specification/assets/js/3.f49bb768.js"><link rel="prefetch" href="/web-specification/assets/js/4.7d5f245c.js"><link rel="prefetch" href="/web-specification/assets/js/5.dcf95eb8.js"><link rel="prefetch" href="/web-specification/assets/js/6.23c3ba21.js"><link rel="prefetch" href="/web-specification/assets/js/7.b125d4d9.js"><link rel="prefetch" href="/web-specification/assets/js/8.9afadf39.js">
    <link rel="stylesheet" href="/web-specification/assets/css/0.styles.52c227e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-specification/" class="home-link router-link-active"><!----> <span class="site-name">起妙前端开发手册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web-specification/pages/webSpecification/class.html" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-specification/pages/other/knowledgePoints/es6.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/web-specification/us/" class="nav-link">
  English
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web-specification/pages/webSpecification/class.html" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-specification/pages/other/knowledgePoints/es6.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/web-specification/us/" class="nav-link">
  English
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端开发规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web-specification/pages/webSpecification/class.html" class="sidebar-link">class</a></li><li><a href="/web-specification/pages/webSpecification/javaScript.html" class="sidebar-link">JavaScript</a></li><li><a href="/web-specification/pages/webSpecification/aboutAnnotations.html" class="sidebar-link">关于注释</a></li><li><a href="/web-specification/pages/webSpecification/aboutIconfont.html" class="sidebar-link">关于图标</a></li><li><a href="/web-specification/pages/webSpecification/cli.html" class="sidebar-link">项目构建</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/web-specification/pages/other/knowledgePoints" class="sidebar-heading clickable router-link-active open"><span>知识点</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/web-specification/pages/other/knowledgePoints/vue3.html" class="sidebar-link">Vue3.0</a></li><li><a href="/web-specification/pages/other/knowledgePoints/typeScript.html" class="sidebar-link">TypeScript</a></li><li><a href="/web-specification/pages/other/knowledgePoints/es6.html" aria-current="page" class="active sidebar-link">ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#es6-简介" class="sidebar-link">ES6 简介</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#let-和-const-命令" class="sidebar-link">let 和 const 命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#let-和-const-对比-var-命令" class="sidebar-link">let 和 const 对比 var 命令</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#块级作用域" class="sidebar-link">块级作用域</a></li></ul></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#变量的解构赋值" class="sidebar-link">变量的解构赋值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#数组的解构赋值" class="sidebar-link">数组的解构赋值</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#对象的解构赋值" class="sidebar-link">对象的解构赋值</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#字符串的解构赋值" class="sidebar-link">字符串的解构赋值</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#函数参数的解构赋值" class="sidebar-link">函数参数的解构赋值</a></li></ul></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#对象的扩展" class="sidebar-link">对象的扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#解构赋值" class="sidebar-link">解构赋值</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#扩展运算符" class="sidebar-link">扩展运算符</a></li></ul></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#函数的扩展" class="sidebar-link">函数的扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#函数参数的默认值" class="sidebar-link">函数参数的默认值</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#rest-参数" class="sidebar-link">rest 参数</a></li><li class="sidebar-sub-header"><a href="/web-specification/pages/other/knowledgePoints/es6.html#箭头函数" class="sidebar-link">箭头函数</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/web-specification/pages/other/issues" class="sidebar-heading clickable"><span>Bugger</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6"><a href="#es6" class="header-anchor">#</a> ES6</h1> <h2 id="es6-简介"><a href="#es6-简介" class="header-anchor">#</a> ES6 简介</h2> <ul><li><p><strong>大家口中的<code>ES6</code>是什么呢？</strong><br> <code>ECMAScript 6.0</code>（以下简称 <code>ES6</code>）是 <code>JavaScript</code> 语言的下一代标准，已经在 <code>2015年6月</code>正式发布了。它的目标，是使得 <code>JavaScript</code> 语言可以用来编写复杂的大型应用程序，成为企业级开发语言</p></li> <li><p><strong><code>ECMAScript</code> 和 <code>JavaScript</code> 有什么的关系呢？</strong><br>
要讲清楚这个问题，需要回顾历史。1996 年 11 月，JavaScript 的创造者 Netscape 公司，决定将 JavaScript 提交给标准化组织 ECMA，希望这种语言能够成为国际标准。次年，ECMA 发布 262 号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为 ECMAScript，这个版本就是 1.0 版。<br><br>
该标准从一开始就是针对 JavaScript 语言制定的，但是之所以不叫 JavaScript，有两个原因。一是商标，Java 是 Sun 公司的商标，根据授权协议，只有 Netscape 公司可以合法地使用 JavaScript 这个名字，且 JavaScript 本身也已经被 Netscape 公司注册为商标。二是想体现这门语言的制定者是 ECMA，不是 Netscape，这样有利于保证这门语言的开放性和中立性。<br><br>
因此，ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现（另外的 ECMAScript 方言还有 JScript 和 ActionScript）。日常场合，这两个词是可以互换的</p></li> <li><p><strong>ES6 与 ECMAScript 2015 的关系</strong>
ECMAScript 2015（简称 ES2015）这个词，也是经常可以看到的。它与 ES6 是什么关系呢？</p></li></ul> <p>2011 年，ECMAScript 5.1 版发布后，就开始制定 6.0 版了。因此，ES6 这个词的原意，就是指 JavaScript 语言的下一个版本</p> <h2 id="let-和-const-命令"><a href="#let-和-const-命令" class="header-anchor">#</a> let 和 const 命令</h2> <ul><li>ES6之前，<code>javaScript</code>并没有块级作用域，let 和 const 命令的出现就是为了解决块级作用域和常量的。</li> <li><code>let</code>命令，用来声明变量。它的用法类似于var，但是所声明的变量，只在<code>let</code>命令所在的代码块内有效。</li> <li><code>const</code>声明一个只读的常量。一旦声明，常量的值就不能改变。</li></ul> <h3 id="let-和-const-对比-var-命令"><a href="#let-和-const-对比-var-命令" class="header-anchor">#</a> let 和 const <code>对比</code> var 命令</h3> <ul><li><p><strong><code>let</code> 和 <code>const</code>有块级作用域，而<code>var</code>只有函数作用域</strong></p></li> <li><p><strong><code>var</code>存在<code>变量提升</code>，<code>let</code> 和 <code>const</code>没有</strong></p></li> <li><p><strong>在<code>let</code>和<code>const</code>之间，建议优先使用<code>const</code>，尤其是在全局环境，不应该设置变量，只应设置常量</strong><br></p> <p><code>const</code>优于<code>let</code>有几个原因</p> <ul><li>一个是<code>const</code>可以提醒阅读程序的人，这个变量不应该改变。</li> <li>另一个是<code>const</code>比较符合函数式编程思想，运算不改变值，只是新建值，而且这样也有利于将来的分布式运算。</li> <li>最后一个原因是<code>JavaScript</code>编译器会对<code>const</code>进行优化，所以多使用<code>const</code>，有利于提高程序的运行效率，也就是说<code>let</code>和<code>const</code>的本质区别，其实是编译器内部的处理不同。</li></ul></li> <li><p><strong><code>var</code> 会存在变量提升，而 <code>let</code> 和 <code>const</code> 没有</strong></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// var 的情况</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出undefined</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// let 的情况</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接就报错了, Cannot access 'bar' before initialization</span>
<span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// const 的情况</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接就报错了, Cannot access 'PI' before initialization</span>
<span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>那么什么叫做<code>变量提升</code>?</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出undefined</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// 实际上预编译会转成这样</span>
<span class="token keyword">var</span> a<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出undefined</span>
a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">// 只有 var 命名会挂在到 window 对象上(不在函数作用域下面的情况下)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 2</span>

<span class="token comment">// 没有使用声明语句的情况下，会默认用 var 声明</span>
b <span class="token operator">=</span> <span class="token number">3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token comment">// 实际上预编译会转成这样</span>
<span class="token keyword">var</span> b
b <span class="token operator">=</span> <span class="token number">3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><p><code>在JavaScript中存在一种预编译的机制，这也是Java等一些语言中没有的特性，也就正是因为这个预编译的机制，导致了js中变量提升的一些问题</code><br><br></p> <h3 id="块级作用域"><a href="#块级作用域" class="header-anchor">#</a> 块级作用域</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token string">'B'</span>
  <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// a is not defined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span> <span class="token comment">// B is not defined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// 1 var并没有没有块级作用域，也就不会报错</span>

<span class="token comment">// 实际上预编译时，会转成</span>
<span class="token keyword">var</span> c
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token string">'B'</span>
<span class="token punctuation">}</span>
c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p><code>而 var 作用域只在函数体内才有作用域之说</code></p> <h2 id="变量的解构赋值"><a href="#变量的解构赋值" class="header-anchor">#</a> 变量的解构赋值</h2> <h3 id="数组的解构赋值"><a href="#数组的解构赋值" class="header-anchor">#</a> 数组的解构赋值</h3> <p><code>ES6</code> 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构
以前，为变量赋值，只能直接指定值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><p>ES6 允许写成下面这样</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><h3 id="对象的解构赋值"><a href="#对象的解构赋值" class="header-anchor">#</a> 对象的解构赋值</h3> <p>解构不仅可以用于数组，还可以用于对象
我们平时经常会看到<code>import { Swiper, SwiperSlide } from 'vue-awesome-swiper'</code>，这就是<code>ES6</code>的对象的解构赋值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar<span class="token punctuation">,</span> baz <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// aaa</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// bbb</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token operator">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// aaa</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>bar<span class="token punctuation">)</span> <span class="token comment">// bbb</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>baz<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><p>对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定。<br>
而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。<br>
如果解构失败，变量的值等于<code>undefined</code><br></p> <h3 id="字符串的解构赋值"><a href="#字符串的解构赋值" class="header-anchor">#</a> 字符串的解构赋值</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'hello----'</span><span class="token punctuation">;</span>
a <span class="token comment">// &quot;h&quot;</span>
b <span class="token comment">// &quot;e&quot;</span>
c <span class="token comment">// &quot;l&quot;</span>
d <span class="token comment">// &quot;l&quot;</span>
e <span class="token comment">// &quot;o&quot;</span>
</code></pre></div><h3 id="函数参数的解构赋值"><a href="#函数参数的解构赋值" class="header-anchor">#</a> 函数参数的解构赋值</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><p>上面代码中，函数<code>add</code>的参数表面上是一个数组，但在传入参数的那一刻，数组参数就被解构成变量<code>x</code>和<code>y</code>。对于函数内部的代码来说，它们能感受到的参数就是<code>x</code>和<code>y</code></p> <h2 id="对象的扩展"><a href="#对象的扩展" class="header-anchor">#</a> 对象的扩展</h2> <h3 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h3> <p>对象的解构赋值用于从一个对象取值，相当于将目标对象自身的所有可遍历的<code>enumerable</code>、但尚未被读取的属性，分配到指定的对象上面。所有的键和它们的值，都会拷贝到新对象上面</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
x <span class="token comment">// 1</span>
y <span class="token comment">// 2</span>
z <span class="token comment">// { a: 3, b: 4 }</span>
</code></pre></div><p><code>上面代码中，变量z是解构赋值所在的对象。它获取等号右边的所有尚未读取的键</code> a <code>和</code> b <code>，将它们连同值一起拷贝过来</code></p> <p><strong><font color="red">使用注意点</font></strong></p> <ul><li>由于解构赋值要求等号右边是一个对象，所以如果等号右边是<code>undefined</code>或<code>null</code>，就会报错，因为它们无法转为对象。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 运行时错误</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// 运行时错误</span>
</code></pre></div><ul><li>解构赋值必须是最后一个参数，否则会报错</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">}</span> <span class="token operator">=</span> someObject<span class="token punctuation">;</span> <span class="token comment">// 句法错误</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> <span class="token operator">...</span>y<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> someObject<span class="token punctuation">;</span> <span class="token comment">// 句法错误</span>
</code></pre></div><h3 id="扩展运算符"><a href="#扩展运算符" class="header-anchor">#</a> 扩展运算符</h3> <p>对象的扩展运算符<code>...</code>用于取出参数对象的所有可遍历属性，拷贝到当前对象之中。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>z <span class="token punctuation">}</span><span class="token punctuation">;</span>
n <span class="token comment">// { a: 3, b: 4 }</span>
</code></pre></div><p>由于数组是特殊的对象，所以对象的扩展运算符也可以用于数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
foo <span class="token comment">// {0: &quot;a&quot;, 1: &quot;b&quot;, 2: &quot;c&quot;}</span>
</code></pre></div><h2 id="函数的扩展"><a href="#函数的扩展" class="header-anchor">#</a> 函数的扩展</h2> <h3 id="函数参数的默认值"><a href="#函数参数的默认值" class="header-anchor">#</a> 函数参数的默认值</h3> <p><code>ES6</code> 之前，不能直接为函数的参数指定默认值，只能采用变通的方法，但是这样存在一些问题</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">log</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> x <span class="token operator">||</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>
  y <span class="token operator">=</span> y <span class="token operator">||</span> <span class="token string">'World'</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> y
<span class="token punctuation">}</span>

<span class="token comment">// 如果我传的值 JavaScript 最终会转成 false 的话，问题就出现了，如下：</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Hello World&quot;, 结果被改为默认值</span>
</code></pre></div><p>为了避免这个问题，通常需要先判断一下参数<code>x</code>,<code>y</code>是否被赋值，如果没有，再等于默认值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">log</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> y <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">=</span> <span class="token string">'World'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> y
<span class="token punctuation">}</span>

<span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// &quot;false &quot;</span>
</code></pre></div><p><strong>而 <code>ES6</code>允许为函数的参数设置默认值</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">log</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">'World'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> y
<span class="token punctuation">}</span>

<span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Hello World&quot;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// &quot;false &quot;</span>
</code></pre></div><p><code>可以看到，ES6 的写法比 ES5 简洁许多</code></p> <h3 id="rest-参数"><a href="#rest-参数" class="header-anchor">#</a> rest 参数</h3> <p><code>ES6</code> 引入 <code>rest</code> 参数（形式为<code>...变量名</code>），用于获取函数的多余参数，这样就不需要使用<code>arguments</code>对象了。<code>rest</code> 参数搭配的变量是一个数组，该变量将多余的参数放入数组中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token comment">// [2, 5, 3]</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> val <span class="token keyword">of</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>
</code></pre></div><h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <p><code>ES6</code> 允许使用“箭头” <code>=&gt;</code> 定义函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">;</span> <span class="token comment">// 如果是单行，并且没有花括号，默认会有 return</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><code>如果箭头函数的代码块部分多于一条语句，如果想要返回值，就要使用大括号将它们括起来，并且使用return关键字返回</code></p> <h4 id="this-指向"><a href="#this-指向" class="header-anchor">#</a> this 指向</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// Window {parent: Window, opener: null, top: Window, length: 2, frames: Window, …}，这里的 this 指向了 Window 对象</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// &lt;div id=&quot;container&quot;&gt;...&lt;/div&gt;，这里 this 指向了当前节点</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong><font color="red">使用注意点</font></strong></p> <ul><li>函数体内的this对象，引用外层的的是<code>this</code>，不存在自身的<code>this</code></li> <li>不可以当作构造函数，也就是说，不可以使用new命令，否则会抛出一个错误</li> <li>不可以使用 <code>arguments</code> 对象，该对象在函数体内不存在。如果要用，可以用 <code>rest</code> 参数代替</li> <li>不可以使用 <code>yield</code> 命令，因此箭头函数不能用作 <code>Generator</code> 函数</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web-specification/pages/other/knowledgePoints/typeScript.html" class="prev">
        TypeScript
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/web-specification/assets/js/app.60a5c9a4.js" defer></script><script src="/web-specification/assets/js/2.a3020de5.js" defer></script><script src="/web-specification/assets/js/9.77077009.js" defer></script>
  </body>
</html>
